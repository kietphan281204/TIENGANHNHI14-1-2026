<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>c√≥ 3 ph√∫t th√¥i n√≠ r√°ng l√†m x√≠u nh√© </title>

<style>
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:#c5d818;
  color:white;
  padding:20px;
}
.container{
  max-width:900px;
  margin:auto;
  background:#1e293b;
  padding:20px;
  border-radius:16px;
}
h1{text-align:center}
.timer{
  position:sticky;
  top:0;
  background:#facc15;
  color:rgb(0, 0, 0);
  padding:10px;
  text-align:center;
  border-radius:12px;
  font-size:20px;
  margin-bottom:16px;
}
.question{
  background:#b86196;
  padding:12px;
  border-radius:12px;
  margin-bottom:14px;
}
.answers label{
  display:block;
  padding:6px;
  border-radius:8px;
  margin:6px 0;
  cursor:pointer;
}
.correct{background:#14532d;color:#bbf7d0}
.wrong{background:#7f1d1d;color:#fecaca}
button{
  display:block;
  margin:20px auto;
  padding:12px 26px;
  font-size:16px;
  border:none;
  border-radius:12px;
  background:#4f46e5;
  color:white;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="container">
<h1>25 c√¢u n√≠ c·ªë nh√© </h1>

<div class="timer">
‚è± Th·ªùi gian n√≠ chi·∫øn ƒë·∫•u kkk: <span id="time">03:00</span>
</div>

<div id="quiz"></div>

<button onclick="submitQuiz()"> N·ªôp b√†i</button>
</div>

<!-- üîä NH·∫†C N·ªÄN -->
<audio id="bgMusic" loop preload="auto">
  <source src="bai1.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== D·ªÆ LI·ªÜU ===== */
let data=[
 ["Able","c√≥ th·ªÉ"],
 ["Abandon","b·ªè"],
 ["About","kho·∫£ng, v·ªÅ"],
 ["Above","l√™n, tr√™n"],
 ["Act","h√†nh ƒë·ªông"],
 ["Add","th√™m"],
 ["Afraid","s·ª£"],
 ["After","sau"],
 ["Again","l·∫°i"],
 ["Age","tu·ªïi"],
 ["Ago","tr∆∞·ªõc ƒë√¢y"],
 ["Agree","ƒë·ªìng √Ω"],
 ["Air","b·∫ßu kh√¥ng kh√≠"],
 ["All","t·∫•t c·∫£"],
 ["Allow","cho ph√©p"],
 ["Also","c≈©ng v·∫≠y"],
 ["Always","lu√¥n lu√¥n"],
 ["Among","·ªü gi·ªØa"],
 ["And","v√†"],
 ["Anger","t·ª©c gi·∫≠n"],
 ["Animal","ƒë·ªông v·∫≠t"],
 ["Answer","c√¢u tr·∫£ l·ªùi"],
["Appear","xu·∫•t hi·ªán"],
["Apple","qu·∫£ t√°o"],
["Area","di·ªán t√≠ch khu v·ª±c"]
];

/* ===== TR·ªòN ===== */
function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    let j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

data=shuffle(data);
const quiz=document.getElementById("quiz");

/* ===== T·∫†O C√ÇU H·ªéI ===== */
data.forEach((q,i)=>{
  const correct=q[1];
  const wrong=shuffle(
    data.map(x=>x[1]).filter(v=>v!==correct)
  ).slice(0,3);

  const answers=shuffle([correct,...wrong]);

  const div=document.createElement("div");
  div.className="question";
  div.dataset.correct=correct;

  div.innerHTML=`
    <strong>C√¢u ${i+1}: ${q[0]}</strong>
    <div class="answers">
      ${answers.map((a,j)=>`
        <label>
          <input type="radio" name="q${i}" value="${a}">
          ${String.fromCharCode(65+j)}. ${a}
        </label>
      `).join("")}
    </div>
  `;
  quiz.appendChild(div);
});

/* ===== PH√ÅT NH·∫†C 1 L·∫¶N DUY NH·∫§T ===== */
const bgMusic = document.getElementById("bgMusic");
let musicStarted = false;

document.addEventListener("change", e=>{
  if(e.target.type==="radio" && !musicStarted){
    bgMusic.volume = 0.4;   // ch·ªânh √¢m l∆∞·ª£ng
    bgMusic.play();
    musicStarted = true;
  }
});

/* ===== ƒê·ªíNG H·ªí ===== */
let timeLeft=180;
let submitted=false;
const timeEl=document.getElementById("time");

const timer=setInterval(()=>{
  const m=Math.floor(timeLeft/60);
  const s=timeLeft%60;
  timeEl.textContent=
    `${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;

  if(timeLeft<=0){
    clearInterval(timer);
    if(!submitted){
      alert("‚è∞ H·∫øt gi·ªù!");
      submitQuiz();
    }
  }
  timeLeft--;
},1000);

/* ===== N·ªòP B√ÄI ===== */
function submitQuiz(){
  if(submitted) return;
  submitted=true;
  clearInterval(timer);

  /* D·ª™NG NH·∫†C */
  bgMusic.pause();
  bgMusic.currentTime = 0;

  let score=0;

  document.querySelectorAll(".question").forEach(q=>{
    const correct=q.dataset.correct;
    const chosen=q.querySelector("input:checked");

    q.querySelectorAll("label").forEach(lb=>{
      const v=lb.querySelector("input").value;
      if(v===correct) lb.classList.add("correct");
    });

    if(chosen){
      if(chosen.value===correct) score++;
      else chosen.parentElement.classList.add("wrong");
    }
  });

  document.querySelectorAll("input").forEach(i=>i.disabled=true);

  let message="";
  if(score===25){
    message="üèÜ Nhi th·∫≠t tuy·ªát v·ªùi qu√° 10 ƒëi·ªÉm g√≥t ch√≥p nƒÉm b·ªù vang!";
  }else if(score>=20){
    message="üëè Nhi gi·ªèi qu√°!";
  }else if(score>=15){
    message="ü§î Qu√™n r·ªìi ch·ª© g√¨!";
  }else if(score>=1){
    message="üò¢ Nhi l√†m t√¥i bu·ªìn hen!";
  }else{
    message="üò¥ C·ªë g·∫Øng h∆°n nh√©!";
  }

  alert(
    "üéØ K·∫æT QU·∫¢ NHI √à\n\n" +
    "‚úÖ ƒê√∫ng: " + score + " / 25 c√¢u\n\n" +
    message
  );
}
</script>
</body>
</html>
